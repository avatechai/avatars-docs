---
title: Swift
---

### Installation

Add Avatars Swift package from git.

```
https://github.com/avatechgg/avatars-swift.git
```

### Avatar Display on SwiftUI

```swift
import SwiftUI
import Avatars

struct ContentView: View {
    @StateObject var viewModel = AvatarViewModel(
        avatarId: "fb4051f8-5969-480f-b57b-fcfc66c5b6f6",

        // Model transition
        x: 0,
        y: 200,

        // Model scale & rotation
        scale: 1,
        rotation: 0,

        // For emotion setting
        currentEmotion: ""
    )

    @State private var textInput = ""

    var body: some View {
        VStack {
            AvatarView(viewModel)
            HStack {
                TextField("Enter audio source", text: $textInput)
                    .textFieldStyle(RoundedBorderTextFieldStyle())
                Button("Send") {
                    viewModel.audioSource = textInput
                }
                .padding(.leading, 8)
            }
            .padding(.horizontal)
            EmotionGroup(viewModel)
            Button("Show Controls") {
                isSheetPresented = true
            }
            .padding()
        }
        .padding()
        .sheet(isPresented: $isSheetPresented) {
            PositionControlSheet(viewModel)
        }
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView()
    }
}
```

## Available emotion

- Emotions the avatar support is stored at `viewModel.availableEmotion`
- You can change the emotion of avatar by changing `viewModel.currentEmotion`

```swift
struct EmotionGroup: View {
    @ObservedObject var viewModel: AvatarViewModel
    @State private var selectedEmotion = ""

    init(_ viewModel: AvatarViewModel) {
        self.viewModel = viewModel
    }

    var body: some View {
        HStack {
            if (viewModel.availableEmotion != nil) {
                Text("Emotion: ")
                Picker(selection: $selectedEmotion, label: Text("Emotion")) {
                    Text("---").tag("")
                    ForEach(viewModel.availableEmotion!, id: \.self){
                        Text($0)
                    }
                }.pickerStyle(MenuPickerStyle()).onChange(of: selectedEmotion) {
                    selectedEmotion in
                    if(selectedEmotion == "") {
                        return
                    }
                    viewModel.currentEmotion = selectedEmotion
                }
                
            }
        }
    }
}
```

## Webview Configuration

- if `Outgoing Connections (Client)` doesn't on, webview will not work!
  ![Webview config](https://avatech-avatar-dev1.nyc3.cdn.digitaloceanspaces.com/public-download/CleanShot%202023-06-16%20at%2019.05.51.png)
